<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phong</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,100;1,300;1,400;1,500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../public/base.css">
    <link rel="stylesheet" href="../public/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="../public/style.css">
    <link rel="stylesheet" href="../public/style1.css">
</head>

<body>
    <header>
        <div class="wrapper">
            <section class="header_bottom">
                <section class="header_bottom-content">
                    <section class="header_bottom-left">
                        <nav>
                            <li>
                                <a class="logo" href="">Logo</a>
                            </li>
                            <li> <a href="">Trang chủ</a></li>
                            <li>
                                <a href="">Về chúng tôi</a>
                            </li>
                            <li class="list_room-item">
                                <a class="menu_room" href="">Phòng <i class="fa-solid fa-angle-down"></i>

                                </a>
                                <nav class="todolist_room">
                                    <a href="">Phòng đơn</a><a href="">Phòng khách</a><a href="">Phòng Vip</a>
                                </nav>
                            </li>
                            <li> <a href="">Ẩm thực</a></li>
                            <li> <a href="">Dịch vụ</a></li>
                            <li> <a href="">Thư viện ảnh</a></li>
                            <li><a href="">Liên hệ</a></li>

                        </nav>
                    </section>
                    <nav>
                        <a href="" class="header_top-user">
                            Đăng ký
                        </a>
                        <a href="" class="header_top-user">
                            Đăng nhập
                        </a>
                    </nav>
                </section>


            </section>
        </div>
    </header>
    <main>
        <section class="my_hotel-task">
            <div class="wrapper">
                <a href="">Trang chủ</a>
                <i class="fa-solid fa-angle-right"></i>
                <a href="">Phòng</a>
                <i class="fa-solid fa-angle-right"></i>
                <a href="">Phòng chi tiết</a>
            </div>
        </section>
        <div class="banner_room">
            <img id="slideshow" src="../public/image/bannerphong_chitiet/anh1.webp">
            <h2>Phòng đơn tiêu chuẩn</h2>
        </div>
        <div class="room_content_main">
            <div class="room_content_main_left">
                <div class="tag_info_room">
                    <div class="item_tag_info">
                        <img src="../public/image/people.webp" alt="">
                        <span> 02 Người lớn</span>
                    </div>
                    <div class="item_tag_info">
                        <img src="../public/image/people.webp" alt="">
                        <span> 02 Người lớn</span>
                    </div>
                    <div class="item_tag_info">
                        <img src="../public/image/people.webp" alt="">
                        <span> 02 Người lớn</span>
                    </div>
                </div>
                <div class="product-summary">
                    <p>Các phòng trang nhã và dãy phòng trang nghiêm của chúng tôi gợi nhớ về một thời đại đã qua. Mỗi
                        tính năng như đường cong, thảm sang trọng, trần nhà cao, phòng tắm lát đá cẩm thạch, thiết bị
                        làm sạch và nhiều không gian đều được bố trí một cách chu đáo để gọi cho riêng bạn. Tông màu nâu
                        phong phú và gỗ sồi tự nhiên tạo nên những khu bảo tồn yên tĩnh và yên tĩnh, được tôn lên một
                        cách tuyệt vời bởi đồ nội thất trang nhã.</p>
                </div>
                <div class="room_services_content">
                    <div class="title_services">
                        Dịch vụ phòng
                    </div>
                    <div class="box_services">
                        <div class="item_services">
                            <img src="../public/image/tag_icon_4.svg" alt="">
                            <span>Cà Phê Buổi Sáng</span>
                        </div>
                        <div class="item_services">
                            <img src="../public/image/tag_icon_4.svg" alt="">
                            <span>Bồn Tắm Hoa Sen</span>
                        </div>
                        <div class="item_services">
                            <img src="../public/image/tag_icon_5.svg" alt="">
                            <span>Internet Không Dây</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="room_content_main_right">
                <div class="price_booking">
                    <span>500.000₫/Đêm</span>
                </div>
                <form id="form-book" action="" method="post">
                    <input type="text" name="id_Phong" value="" hidden>
                    <div class="form_booking">
                        <div class="item_booking">
                            <label for="">Họ và tên</label>
                            <input type="text" name="book_name">
                        </div>
                        <div class="item_booking">
                            <label for="">Số điện thoại</label>
                            <input type="text" name="sdt">
                        </div>
                    </div>
                    <div class="form_booking">
                        <div class="item_booking">
                            <label for="">Ngày nhận</label>
                            <input type="date" name="check_in">
                            <p class="eror_messsage"></p>
                        </div>
                        <div class="item_booking">
                            <label for="">Ngày trả</label>
                            <input type="date" name="check_out">
                            <p class="eror_messsage"></p>
                        </div>
                    </div>
                    <div class="form_booking">
                        <div class="item_booking">
                            <label for="">Người lớn</label>
                            <input type="text" name="sl_NguoiLon" placeholder="2">
                        </div>
                        <div class="item_booking">
                            <label for="">Trẻ em</label>
                            <input type="text" name="sl_tre_em" placeholder="1">
                        </div>
                    </div>
                    <div class="notification">
                        <p>Trạng thái phòng : <span>Có thể đặt</span></p>
                        <p class="total_time">  Số ngày đặt : <span>6 ngày</span></p>
                        <p class="total_price">Tổng số tiền phải trả : <span>480000 vnd</span></p>
                        <input type="text" name="total_price" hidden>
                    </div>
                    <div class="notification_eror">
                        <p>Xin lỗi quý khách thời gian đặt của quý khách đã tồn tại !</p>
                    </div>
                    <div class="form_booking">

                        <button type="submit">Đặt phòng</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="product_tab">
            <div class="product_tab_title">
                <div class="product_tab_title_item">Mô tả</div>
                <div class="product_tab_title_item">Tiện nghi</div>
            </div>
            <div class="tab-float">
                <p>Với cảnh quan tuyệt đẹp, bạn sẽ tận hưởng đầy đủ kỳ nghỉ với các dịch vụ hoàn hảo. Ngoài ra
                    khách đặt phòng còn được miễn phí ăn sáng. Tiện ích phòng đầy đủ máy lạnh, tivi màn hình
                    phẳng và nhiều tiện ích khác nữa.</p>
            </div>
        </div>
        <div class="productRelate">
            <div class="productRelate_title">
                Phòng tương tự
            </div>
            <div class="productRelate_left">
                <section class="room">
                    <div style="margin: 0;" class="wrapper">
                        <!-- <h2 class="room_title">Phòng</h2> -->
                        <!-- <span></span> -->
                        <div class="row">
                            <div class="col">
                                <article>
                                    <a href=""> <img class="room_img" src="../public/image/anh1.webp" alt=""></a>
                                    <a href="" class="room_name">
                                        <h2 class="room_name">Phòng đơn tiêu chuẩn</h2>
                                    </a>
                                    <span class="room_line"></span>
                                    <section class="room_service">
                                        <img src="../public/image/Không có tiêu đề.png" alt="">
                                        <img src="../public/image/tag_icon_4.svg" alt="">
                                        <img src="../public/image/tag_icon_5.svg" alt="">
                                    </section>
                                    <section class="room_information">
                                        <span class="room_guest">02 khách</span>
                                        <span class="room_area">25m<sup>2</sup></span>
                                    </section>
                                    <section class="room_buy">
                                        <span class="room_price">500.000₫/đêm</span>
                                        <form class="room_buy-form" action="" method="post">
                                            <input type="submit" name="buy" value="Đặt Phòng">
                                        </form>
                                    </section>

                                </article>
                            </div>
                            <div class="col">
                                <article>
                                    <a href=""> <img class="room_img" src="../public/image/anh1.webp" alt=""></a>
                                    <a href="" class="room_name">
                                        <h2 class="room_name">Phòng đơn tiêu chuẩn</h2>
                                    </a>
                                    <span class="room_line"></span>
                                    <section class="room_service">
                                        <img src="../public/image/Không có tiêu đề.png" alt="">
                                        <img src="../public/image/tag_icon_4.svg" alt="">
                                        <img src="../public/image/tag_icon_5.svg" alt="">
                                    </section>
                                    <section class="room_information">
                                        <span class="room_guest">02 khách</span>
                                        <span class="room_area">25m<sup>2</sup></span>
                                    </section>
                                    <section class="room_buy">
                                        <span class="room_price">500.000₫/đêm</span>
                                        <form class="room_buy-form" action="" method="post">
                                            <input type="submit" name="buy" value="Đặt Phòng">
                                        </form>
                                    </section>

                                </article>
                            </div>
                            <div class="col">
                                <article>
                                    <a href=""> <img class="room_img" src="../public/image/anh1.webp" alt=""></a>
                                    <a href="" class="room_name">
                                        <h2 class="room_name">Phòng đơn tiêu chuẩn</h2>
                                    </a>
                                    <span class="room_line"></span>
                                    <section class="room_service">
                                        <img src="../public/image/Không có tiêu đề.png" alt="">
                                        <img src="../public/image/tag_icon_4.svg" alt="">
                                        <img src="../public/image/tag_icon_5.svg" alt="">
                                    </section>
                                    <section class="room_information">
                                        <span class="room_guest">02 khách</span>
                                        <span class="room_area">25m<sup>2</sup></span>
                                    </section>
                                    <section class="room_buy">
                                        <span class="room_price">500.000₫/đêm</span>
                                        <form class="room_buy-form" action="" method="post">
                                            <input type="submit" name="buy" value="Đặt Phòng">
                                        </form>
                                    </section>

                                </article>
                            </div>
                            <div class="col">
                                <article>
                                    <a href=""> <img class="room_img" src="../public/image/anh1.webp" alt=""></a>
                                    <a href="" class="room_name">
                                        <h2 class="room_name">Phòng đơn tiêu chuẩn</h2>
                                    </a>
                                    <span class="room_line"></span>
                                    <section class="room_service">
                                        <img src="../public/image/Không có tiêu đề.png" alt="">
                                        <img src="../public/image/tag_icon_4.svg" alt="">
                                        <img src="../public/image/tag_icon_5.svg" alt="">
                                    </section>
                                    <section class="room_information">
                                        <span class="room_guest">02 khách</span>
                                        <span class="room_area">25m<sup>2</sup></span>
                                    </section>
                                    <section class="room_buy">
                                        <span class="room_price">500.000₫/đêm</span>
                                        <form class="room_buy-form" action="" method="post">
                                            <input type="submit" name="buy" value="Đặt Phòng">
                                        </form>
                                    </section>

                                </article>
                            </div>
                        </div>
                    </div>

                </section>
            </div>
            <!-- <div class="productRelate_right"></div> -->
        </div>
    </main>
    <footer>
        <div class="wrapper">
            <section class="footer">
                <section class="footer_item footer_item-1">
                    <h3>Khám phá</h3>
                    <ul class="footer_item-list">
                        <li class="footer_list-item"><a href="" class="footer_item-text">Home</a></li>
                        <li class="footer_list-item"><a href="" class="footer_item-text">Loại phòng</a></li>
                        <li class="footer_list-item"><a href="" class="footer_item-text">Ăn uống</a></li>
                        <li class="footer_list-item"><a href="" class="footer_item-text">Thông tin</a></li>
                        <li class="footer_list-item"><a href="" class="footer_item-text">Liên hệ</a></li>
                    </ul>
                </section>
                <section class="footer_item footer_item-scocial">
                    <h3>Social Media</h3>
                    <ul class="footer_item-list">
                        <li class="footer_list-item"><a href="" class="footer_item-text">Facebook</a></li>
                        <li class="footer_list-item"><a href="" class="footer_item-text">Twiter</a></li>
                        <li class="footer_list-item"><a href="" class="footer_item-text">Instagram</a></li>
                        <li class="footer_list-item"><a href="" class="footer_item-text">Zalo</a></li>
                        <li class="footer_list-item"><a href="" class="footer_item-text">Liên hệ</a></li>
                    </ul>
                </section>
                <section class="footer_item footer_item-address">
                    <h3>Địa chỉ</h3>
                    <ul class="footer_item-list">
                        <li class="footer_list-item"><a href="" class="footer_item-text">Trịnh Văn Bô, Cầu Giấy, Hà
                                Nội</a></li>
                        <li class="footer_list-item"><a href="" class="footer_item-text">Twiter</a></li>
                    </ul>
                </section>
            </section>
        </div>

    </footer>
    <script>
        const form = document.querySelector('#form-book');
        if (form) {
            const inputCheckIn = form.querySelector("input[name=check_in]");
            const inputCheckOut = form.querySelector("input[name=check_out]");
            let checked = true;
            inputCheckIn.onblur = function (e) {
                const eror_message = inputCheckIn.parentElement.querySelector(".eror_messsage");
                const timer = new Date(inputCheckIn.value).getTime();
                if (checkCurrentTime(timer)) {
                    eror_message.style.display = "block ";
                    eror_message.innerHTML = "Ngày lớn hơn hoặc bằng ngày hiện tại"
                }
                else {
                    eror_message.style.display = "none";
                    eror_message.innerHTML = ""
                }


            }
            inputCheckOut.onblur = function () {
                const eror_message = inputCheckOut.parentElement.querySelector(".eror_messsage");
                const timer = new Date(inputCheckOut.value).getTime();
                if (checkCurrentTime(timer)) {
                    eror_message.style.display = "block ";
                    eror_message.innerHTML = "Ngày lớn hơn hoặc bằng ngày hiện tại"
                }
                else {
                    eror_message.style.display = "none";
                    eror_message.innerHTML = ""
                    if (new Date(inputCheckIn.value).getTime() >= new Date(inputCheckOut.value).getTime()) {
                        eror_message.style.display = "block ";
                        eror_message.innerHTML = "Thơi gian checkin phải lớn hơn checkout"
                    }
                    else {
                        // var times = ; IN biến bên mua hàng
                        const notification = form.querySelector(".notification")
                        const notification_eror = form.querySelector(".notification_eror")
                        for (var time of times) {
                            const checkIn = new Date(time["check_in"]).getTime();
                            const checkOut = new Date(time["check_out"]).getTime();

                            if (timeCheckin < checkIn && timeCheckout < checkIn || timeCheckin > checkOut && timeCheckout > checkOut) {
                              
                                notification.style.display = "block";
                                notification_eror.style.display = "none";
                                checked = true;
                            }
                            else {
                                notification.style.display = "none";
                                notification_eror.style.display = "block";
                                console.log("Phòng đã thuê ")
                                checked = false;
                            }
                        }
                    }
                }

                if(checked) {
                    console.log("Phòng trống")
                }
            }
        }


        function checkCurrentTime(time) {
            let year = new Date().getFullYear();
            let month = new Date().getMonth() + 1;
            let day = new Date().getDate();
            const currentTime = new Date(`${year}-${month}-${day}`).getTime();
            return currentTime > time ? true : false;
        }
    </script>
</body>

</html>